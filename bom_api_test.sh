# ==========================================
# BOMç®¡ç†API ç°¡æ˜“ãƒ†ã‚¹ãƒˆï¼ˆjqä¸è¦ç‰ˆï¼‰
# Windowsç’°å¢ƒå¯¾å¿œ
# ==========================================

echo "ğŸ”§ BOMç®¡ç†API ç°¡æ˜“ãƒ†ã‚¹ãƒˆé–‹å§‹..."
echo "ã‚µãƒ¼ãƒãƒ¼: http://localhost:3000"
echo ""

# ==========================================
# 1. åŸºæœ¬æ¥ç¶šãƒ†ã‚¹ãƒˆ
# ==========================================
echo "1ï¸âƒ£ åŸºæœ¬æ¥ç¶šãƒ†ã‚¹ãƒˆ"
curl -X GET "http://localhost:3000/api/health"
echo ""
echo ""

# ==========================================
# 2. è£½å“ä¸€è¦§å–å¾—
# ==========================================
echo "2ï¸âƒ£ è£½å“ä¸€è¦§å–å¾—"
curl -X GET "http://localhost:3000/api/bom/products"
echo ""
echo ""

# ==========================================
# 3. æ–°è¦è£½å“ä½œæˆ
# ==========================================
echo "3ï¸âƒ£ æ–°è¦è£½å“ä½œæˆ"
curl -X POST "http://localhost:3000/api/bom/products" \
  -H "Content-Type: application/json" \
  -d "{\"product_code\": \"TEST-$(date +%s)\", \"standard_days\": 5, \"remarks\": \"ãƒ†ã‚¹ãƒˆç”¨è£½å“\"}"
echo ""
echo ""

# ==========================================
# 4. å·¥ç¨‹ä¸€è¦§å–å¾—
# ==========================================
echo "4ï¸âƒ£ å…¨å·¥ç¨‹ä¸€è¦§å–å¾—"
curl -X GET "http://localhost:3000/api/bom/stations"
echo ""
echo ""

# ==========================================
# 5. ç‰¹å®šè£½å“ã®å·¥ç¨‹ä¸€è¦§
# ==========================================
echo "5ï¸âƒ£ V5000ã®å·¥ç¨‹ä¸€è¦§å–å¾—"
curl -X GET "http://localhost:3000/api/bom/products/V5000/stations"
echo ""
echo ""

# ==========================================
# 6. ä½¿ç”¨éƒ¨å“ä¸€è¦§å–å¾—
# ==========================================
echo "6ï¸âƒ£ V5000-sub1-1ã®ä½¿ç”¨éƒ¨å“ä¸€è¦§"
curl -X GET "http://localhost:3000/api/bom/products/V5000/stations/sub1-1/parts"
echo ""
echo ""

# ==========================================
# 7. BOMé …ç›®è¿½åŠ 
# ==========================================
echo "7ï¸âƒ£ BOMé …ç›®è¿½åŠ ãƒ†ã‚¹ãƒˆ"
curl -X POST "http://localhost:3000/api/bom/items" \
  -H "Content-Type: application/json" \
  -d '{
    "product_code": "V5000",
    "station_code": "sub1-2",
    "part_code": "SUS304-M6-20-HEX",
    "quantity": 3,
    "remarks": "APIãƒ†ã‚¹ãƒˆè¿½åŠ "
  }'
echo ""
echo ""

# ==========================================
# 8. ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
# ==========================================
echo "8ï¸âƒ£ ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆï¼ˆé‡è¤‡BOMé …ç›®ï¼‰"
curl -X POST "http://localhost:3000/api/bom/items" \
  -H "Content-Type: application/json" \
  -d '{
    "product_code": "V5000",
    "station_code": "sub1-1",
    "part_code": "LED-RED-5MM-20MA",
    "quantity": 2,
    "remarks": "é‡è¤‡ãƒ†ã‚¹ãƒˆ"
  }'
echo ""
echo ""

echo "âœ… ç°¡æ˜“ãƒ†ã‚¹ãƒˆå®Œäº†"
echo "ğŸ“Š çµæœç¢ºèªãƒã‚¤ãƒ³ãƒˆï¼š"
echo "   - success: true ãŒè¿”ã£ã¦ãã‚Œã°æ­£å¸¸"
echo "   - ã‚¨ãƒ©ãƒ¼æ™‚ã¯ success: false + ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
echo "   - HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚ç¢ºèª"