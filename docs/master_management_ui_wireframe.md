# マスター管理機能 UI/UXワイヤーフレーム設計書

## 📋 概要

本ドキュメントは、在庫管理システムのマスター管理機能のUI/UX設計を定義します。

### URL構造
```
/master                     # マスター管理トップ（リダイレクト）
/master/parts              # 部品マスター管理
/master/products           # 製品マスター管理
/master/stations           # 作業場所マスター管理
/master/bom                # BOM管理
/master/users              # ユーザー管理
/master/categories         # 部品カテゴリーマスター管理
```

### ナビゲーション統合
既存のHeader.tsxに「マスタ管理」メニューを実装する。
```typescript
{
  label: 'マスタ管理',
  href: '/master',
  roles: ['admin'], // 管理者のみ
  children: [
    { label: '部品マスタ', href: '/master/parts' },
    { label: 'カテゴリマスタ', href: '/master/categories' },
    { label: '製品マスタ', href: '/master/products' },
    { label: '作業場所マスタ', href: '/master/stations' },
    { label: 'BOM管理', href: '/master/bom' },
    { label: 'ユーザー管理', href: '/master/users' },
  ]
}
```

### マスターページ内ナビゲーションタブ
各マスターページには専用のナビゲーションヘッダー（タブUI）を配置し、ページ間の移動を容易にする。

```
┌─ マスターナビゲーションタブ ──────────────────────────────────┐
│ [部品マスタ] [カテゴリマスタ] [製品マスタ] [作業場所マスタ] [BOM管理] [ユーザー管理] │
└───────────────────────────────────────────────────────────────┘
```

#### タブUI仕様
- **配置位置:** 各マスターページのコンテンツエリア上部
- **表示形式:** 水平タブレイアウト
- **アクティブ状態:** 現在表示中のページのタブをハイライト表示
- **権限制御:** ユーザーの権限に応じてタブの表示/非表示を制御

---

## 🏭 3. 製品マスター管理画面

### 3.1 画面レイアウト
部品マスターやユーザー管理画面と同様の、シンプルなテーブルベースのレイアウト。
```
┌─ Action Bar ──────────────────────────────────────────────────┐
│ [➕ 新規製品] [🔄 更新]                                        │
└───────────────────────────────────────────────────────────────┘
┌─ Data Table ──────────────────────────────────────────────────┐
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │製品コード│備考      │状態│操作                              │ │
│ ├─────────────────────────────────────────────────────────────┤ │
│ │PROD-001 │製品A     │🟢 │[編集]                            │ │
│ │PROD-002 │製品B     │🟢 │[編集]                            │ │
│ └─────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────┘
```

## 🏢 4. 作業場所マスター管理画面

### 4.1 画面レイアウト
製品マスターと同様の、シンプルなテーブルベースのレイアウト。
```
┌─ Action Bar ──────────────────────────────────────────────────┐
│ [➕ 新規作業場所] [🔄 更新]                                    │
└───────────────────────────────────────────────────────────────┘
┌─ Data Table ──────────────────────────────────────────────────┐
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │作業場所コード│作業場所名│状態│操作                          │ │
│ ├─────────────────────────────────────────────────────────────┤ │
│ │ST-001        │組立工程1 │🟢 │[編集]                        │ │
│ │ST-002        │検査工程  │🟢 │[編集]                        │ │
│ └─────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────┘
```

## 🔗 5. BOM管理画面

### 5.1 画面レイアウト（3ステップ構成）
**操作フロー**: ①製品選択 → ②作業場所選択 → ③使用部品選択

```
┌─ Step 1: 製品選択 ────────────────────────────────────────────┐
│ どの製品のBOMを編集しますか？                                 │
│ ┌─ 製品セレクタ ───────────────────────────────────────────┐ │
│ │ [🔍 PROD-001: 製品A]                                      │ │
│ └───────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────┘

 (製品を選択すると以下が表示される)

┌─ Step 2: 作業場所の関連付け ──────────────────────────────────┐
│ 📦 PROD-001                                                   │
│ 以下の作業場所が関連付けられています。                        │
│ ┌─ 関連済み作業場所リスト ─────────────────────────────────┐ │
│ │ - ST-001: 組立工程1                                [詳細 >] │ │
│ │ - ST-002: 検査工程                                 [詳細 >] │ │
│ └───────────────────────────────────────────────────────────┘ │
│ [➕ 作業場所を追加]                                           │
└───────────────────────────────────────────────────────────────┘

 (作業場所の「詳細 >」をクリック、または追加すると以下が表示される)

┌─ Step 3: 使用部品の管理 (作業場所: ST-001) ───────────────────┐
│ 📦 PROD-001 > 🏢 ST-001                                        │
│ この作業場所で使用する部品を管理します。                      │
│ ┌─ 使用部品テーブル ───────────────────────────────────────┐ │
│ │部品コード│仕様│数量│単位│操作                            │ │
│ ├───────────────────────────────────────────────────────────┤ │
│ │MECH-001 │M6 │ 2 │個 │[編集][削除]                      │ │
│ │ELEC-001 │抵抗│ 1 │個 │[編集][削除]                      │ │
│ └───────────────────────────────────────────────────────────┘ │
│ [➕ 部品を追加]                                               │
└───────────────────────────────────────────────────────────────┘
```

### 5.2 操作フロー
1.  **製品選択**: プルダウンまたは検索でBOMを編集したい製品を選択する。
2.  **作業場所の管理**: 選択した製品に紐づく作業場所の一覧が表示される。「作業場所を追加」ボタンで、作業場所マスターから選択して追加できる。
3.  **部品の管理**: 各作業場所の「詳細」ボタンを押すと、その工程で使用する部品のリストが表示される。「部品を追加」ボタンで、部品マスターから部品と使用数量を登録できる。

## 🏷️ 6. 部品カテゴリーマスター管理画面

### 6.1 画面レイアウト
製品マスターや作業場所マスターと同様の、シンプルなテーブルベースのレイアウト。
```
┌─ Action Bar ──────────────────────────────────────────────────┐
│ [➕ 新規カテゴリー] [🔄 更新]                                  │
└───────────────────────────────────────────────────────────────┘
┌─ Data Table ──────────────────────────────────────────────────┐
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │カテゴリーコード│カテゴリー名│状態│操作                      │ │
│ ├─────────────────────────────────────────────────────────────┤ │
│ │CAT-001         │機械部品    │🟢 │[編集][削除]              │ │
│ │CAT-002         │電子部品    │🟢 │[編集][削除]              │ │
│ │CAT-003         │化学材料    │🟢 │[編集][削除]              │ │
│ └─────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────┘
```

### 6.2 機能仕様
- **表示項目**: カテゴリーコード、カテゴリー名、状態
- **操作**: 新規登録、編集、削除、有効/無効切り替え
- **注意**: 現在はプレースホルダとして実装、将来的に部品マスターとの関連付け機能を拡張予定

(その他のセクションは変更なしのため省略)
